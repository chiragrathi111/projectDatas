<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jaxrs="http://cxf.apache.org/jaxrs"
	xmlns:jaxws="http://cxf.apache.org/jaxws"
	xsi:schemaLocation="
http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans.xsd
http://cxf.apache.org/jaxrs
http://cxf.apache.org/schemas/jaxrs.xsd">

	<import resource="classpath:META-INF/cxf/services.xml" />
	<import resource="classpath:META-INF/cxf/cxf-servlet.xml" />

	<!-- JAX-RS -->
	<jaxrs:server id="idempiereRest" address="/rest">
		<jaxrs:serviceBeans>
			<ref bean="ModelADServiceBean" />
			<ref bean="CompositeServiceBean" />
			<ref bean="RealMedsTissueWebserviceBean" />
		</jaxrs:serviceBeans>
		<jaxrs:providers>
		    <ref bean="requestFilter"/>
			<ref bean="rateLimitFilter"/>
			<ref bean="globalExceptionMapper"/>
			<ref bean="xmlBeansProvider" />
			<ref bean="xmlBeansJSONProvider" />
		</jaxrs:providers>
	</jaxrs:server>

	<bean id="ModelADServiceBean" class="org.idempiere.adinterface.ModelADServiceImpl" />
	<bean id="CompositeServiceBean" class="com.trekglobal.ws.CompositeServiceImpl" />
	<bean id="RealMedsTissueWebserviceBean" class="org.realmeds.tissue.custom.RealMedsTissueWebserviceImpl" />
    <bean id="requestFilter" class="org.realmeds.tissue.custom.RequestFilter"/>
	<bean id="rateLimitFilter" class="org.realmeds.tissue.custom.RateLimitFilter"/>
	<bean id="globalExceptionMapper" class="org.realmeds.tissue.custom.GlobalExceptionMapper"/>

	<bean id="xmlBeansProvider"
		class="org.apache.cxf.jaxrs.provider.xmlbeans.XMLBeansElementProvider" />
		
	<bean id="xmlBeansJSONProvider"
		class="org.idempiere.jaxrs.provider.xmlbeans.XMLBeansJSONProvider" />
</beans>